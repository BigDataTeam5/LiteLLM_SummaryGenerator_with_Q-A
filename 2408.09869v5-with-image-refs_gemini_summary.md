This technical report introduces Docling, an open-source Python package for converting PDF documents into machine-processable formats like JSON or Markdown.  Docling addresses the long-standing challenge of converting PDFs due to their format variability and lack of standardization.  Leveraging state-of-the-art AI models (DocLayNet for layout analysis and TableFormer for table structure recognition), Docling efficiently processes PDFs on standard hardware.  Its modular design allows for easy extension with new features and models.

**Key Features and Capabilities:**

*   Converts PDFs to JSON or Markdown formats quickly and reliably.
*   Analyzes page layout, reading order, and identifies figures and tables.
*   Extracts metadata (title, authors, references, language).
*   Includes optional OCR for scanned PDFs.
*   Supports batch and interactive modes, configurable for resource optimization.
*   Utilizes various accelerators (GPU, MPS).

**Processing Pipeline:**

Docling employs a sequential pipeline:

1.  **PDF Parsing:** Extracts text content with coordinates and renders page bitmaps using a custom-built parser (docling-parse) or pypdfium as an alternative.
2.  **AI Model Pipeline:** Applies DocLayNet (layout analysis) and TableFormer (table structure recognition) models to each page.  Layout analysis uses RT-DETR architecture trained on DocLayNet and other datasets, processed via onnxruntime. TableFormer, a vision-transformer model, handles complex table structures using PyTorch.
3.  **Post-processing:** Aggregates page results, detects language, infers reading order, and adds metadata, creating a structured document object.
4.  **Output:** Serializes the document object to JSON or Markdown.

**Performance:**

Performance tests on a 225-page dataset showed varying speeds depending on the PDF backend (native or pypdfium) and thread count (4 or 16).  The native backend generally performed better but used more memory.  GPU acceleration is planned for future development.  (See Table 1 in the original document for detailed performance numbers).

**Applications:**

Docling's output is suitable for various applications, including:

*   Enterprise document search.
*   Passage retrieval and classification.
*   Knowledge extraction pipelines.
*   Retrieval-augmented generation (RAG) using the companion package "quackling".
*   Creating document-derived datasets.
*   Automated knowledge-base construction.
*   Integration with IBM data prep kit.

**Future Work:**

Future development includes adding models for figure, equation, and code recognition, improving GPU acceleration, and enhancing the native PDF parser.  The authors encourage community contributions.

**Images:**

The document includes several images:

*   A flowchart illustrating Docling's processing pipeline.
*   Examples of complex page layouts from the DocLayNet dataset, highlighting the diversity handled by Docling.
*   Examples of Docling's Markdown and JSON output.
*   Graphs and tables showing performance metrics and dataset statistics.  (Note:  Specific details from these images, like exact mAP scores from tables, are too numerous to list comprehensively here, but the key findings are summarized above).


**Tables:**

Table 1 details Docling's performance across different hardware and configurations.  Other tables present detailed statistics from the DocLayNet dataset, including class label counts, percentages in train/test/validation sets, and inter-annotator agreement (mAP) scores.  These tables show the performance of various object detection models on the DocLayNet dataset, demonstrating the challenge of achieving human-level accuracy in document layout analysis.
